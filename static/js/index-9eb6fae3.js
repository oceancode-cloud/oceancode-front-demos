import{d as m,o as v,c as g,a as e,i as s,r as A,b as _,e as I,f as n,w as t,u as l,p as B,g as E,h as p}from"./index-1a02b5d1.js";import{_ as R}from"./plugin-vueexport-helper-c27b6911.js";function S(o){return Promise.resolve({token:"test-token",userInfo:{username:"test"},projectId:1})}const U={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},j=e("path",{d:"M336 208v-95a80 80 0 0 0-160 0v95",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),M=e("rect",{x:"96",y:"208",width:"320",height:"272",rx:"48",ry:"48",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),N=m({name:"LockClosedOutline",render:function(i,r){return v(),g("svg",U,[j,M])}}),z={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},L=e("path",{d:"M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),$=e("path",{d:"M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),T=m({name:"PersonOutline",render:function(i,r){return v(),g("svg",z,[L,$])}});var f=(o=>(o.LOGIN_ROUTE_NAME="login",o.DASHBOARD_ROUTE_NAME="home",o))(f||{});function F(o){return S()}const O=o=>(B("data-v-bddf26ab"),o=o(),E(),o),D={class:"view-account"},H=O(()=>n("div",{class:"view-account-header"},null,-1)),V={class:"view-account-container"},q=O(()=>n("div",{class:"view-account-top"},[n("div",{class:"view-account-top-logo"},[n("h1",{class:"title"},"用户登录")]),n("div",{class:"view-account-top-desc"},"Oceancode 用户登录模板")],-1)),P={class:"view-account-form"},G=m({__name:"index",setup(o){const i=s.useMessage(),r=A(!1),b=s.useUser(),h=s.useRouter(),w=s.useForm({items:[{prop:"username",slot:"username",rules:{required:!0,message:"请输入登录账号"}},{prop:"password",slot:"password",rules:{required:!0,message:"请输入登录密码"}}],on:{submit(y){r.value=!0,F().then(a=>{i.success("登录成功"),r.value=!1,console.log(a),b.setLoginResponse(a),a.projectId?h.replace({name:f.DASHBOARD_ROUTE_NAME,params:{projectId:a.projectId}}).finally(()=>location.reload()):h.replace({name:f.DASHBOARD_ROUTE_NAME})}).catch(()=>{r.value=!1})}}});function C(){w.value.submit()}return(y,a)=>{const k=_("n-icon"),x=_("n-input"),u=_("n-button");return v(),I("div",D,[H,n("div",V,[q,n("div",P,[e(l(s.OcForm),{ref_key:"Form",ref:w},{username:t(({model:c})=>[e(x,{value:c.username,"onUpdate:value":d=>c.username=d,size:"large",placeholder:"请输入账号"},{prefix:t(()=>[e(k,{size:"18",color:"#808695"},{default:t(()=>[e(l(T))]),_:1})]),_:2},1032,["value","onUpdate:value"])]),password:t(({model:c})=>[e(x,{value:c.password,"onUpdate:value":d=>c.password=d,size:"large",placeholder:"请输入密码",type:"password"},{prefix:t(()=>[e(k,{size:"18",color:"#808695"},{default:t(()=>[e(l(N))]),_:1})]),_:2},1032,["value","onUpdate:value"])]),_:1},512),e(l(s.OcSpace),{vertical:""},{default:t(()=>[e(u,{text:"",type:"info"},{default:t(()=>[p("忘记密码?")]),_:1}),e(u,{type:"info",size:"large",block:"",onClick:C,loading:r.value},{default:t(()=>[p(" 登录 ")]),_:1},8,["loading"]),e(l(s.OcSpace),{justify:"end"},{default:t(()=>[e(u,{text:"",type:"info"},{default:t(()=>[p("用户注册")]),_:1})]),_:1})]),_:1})])])])}}});const Q=R(G,[["__scopeId","data-v-bddf26ab"]]);export{Q as default};
