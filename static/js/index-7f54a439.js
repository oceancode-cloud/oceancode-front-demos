import{d as p,o as m,c as k,a as e,i as r,r as I,b as d,e as B,f as s,w as t,u as l,p as E,g as R,h as U}from"./index-8c0bfbd8.js";import{_ as y}from"./plugin-vueexport-helper-c27b6911.js";function M(o){return Promise.resolve({token:"test-token",userInfo:{username:"test"},projectId:1})}const N={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},S=e("path",{d:"M336 208v-95a80 80 0 0 0-160 0v95",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),b=e("rect",{x:"96",y:"208",width:"320",height:"272",rx:"48",ry:"48",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),j=p({name:"LockClosedOutline",render:function(i,n){return m(),k("svg",N,[S,b])}}),z={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},L=e("path",{d:"M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),$=e("path",{d:"M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),T=p({name:"PersonOutline",render:function(i,n){return m(),k("svg",z,[L,$])}});var _=(o=>(o.LOGIN_ROUTE_NAME="login",o.DASHBOARD_ROUTE_NAME="home",o))(_||{});function F(o){return M()}const g=o=>(E("data-v-3fa54c31"),o=o(),R(),o),D={class:"view-account"},H=g(()=>s("div",{class:"view-account-header"},null,-1)),V={class:"view-account-container"},q=g(()=>s("div",{class:"view-account-top"},[s("div",{class:"view-account-top-logo"},[s("h1",{class:"title"},"用户登录")]),s("div",{class:"view-account-top-desc"},"Oceancode 用户登录模板")],-1)),P={class:"view-account-form"},G=p({__name:"index",setup(o){const i=r.useMessage(),n=I(!1),x=r.useUser(),v=r.useRouter(),h=r.useForm({items:[{prop:"username",slot:"username",rules:{required:!0,message:"请输入登录账号"}},{prop:"password",slot:"password",rules:{required:!0,message:"请输入登录密码"}}],on:{submit(C){n.value=!0,F().then(a=>{i.success("登录成功"),n.value=!1,console.log(a),x.setLoginResponse(a),a.projectId?v.replace({name:_.DASHBOARD_ROUTE_NAME,params:{projectId:a.projectId}}).finally(()=>location.reload()):v.replace({name:_.DASHBOARD_ROUTE_NAME})}).catch(()=>{n.value=!1})}}});function O(){h.value.submit()}return(C,a)=>{const w=d("n-icon"),f=d("n-input"),A=d("n-button");return m(),B("div",D,[H,s("div",V,[q,s("div",P,[e(l(r.OcForm),{ref_key:"Form",ref:h},{username:t(({model:c})=>[e(f,{value:c.username,"onUpdate:value":u=>c.username=u,size:"large",placeholder:"请输入账号(任意输入)"},{prefix:t(()=>[e(w,{size:"18",color:"#808695"},{default:t(()=>[e(l(T))]),_:1})]),_:2},1032,["value","onUpdate:value"])]),password:t(({model:c})=>[e(f,{value:c.password,"onUpdate:value":u=>c.password=u,size:"large",placeholder:"请输入密码(任意输入)",type:"password"},{prefix:t(()=>[e(w,{size:"18",color:"#808695"},{default:t(()=>[e(l(j))]),_:1})]),_:2},1032,["value","onUpdate:value"])]),_:1},512),e(l(r.OcSpace),{vertical:""},{default:t(()=>[e(A,{type:"info",size:"large",block:"",onClick:O,loading:n.value},{default:t(()=>[U(" 登录 ")]),_:1},8,["loading"])]),_:1})])])])}}});const Q=y(G,[["__scopeId","data-v-3fa54c31"]]);export{Q as default};
